{% extends 'base.html' %}

{% block css %}
    {% load static %}
    <link rel="stylesheet" href="{% static 'website/css/base.css' %}">
    <link rel="stylesheet" href="{% static 'website/css/product_detail.css' %}">
{% endblock css %}

{% block content %}
<div class="container">
    <h4 class="d-flex justify-content-center">{{ canned_food.name }}</h4>
    <div class="row">
        <div class="col-lg-8 left-part">
            <div class="row">
                <div class="col-lg-4 product-photo">
                    PHOTO
                </div>
                <div class="col-lg-8">
                    <p>A consommer jusqu'au X</p>
                    <p>Notes de consommation</p>
                    <div class="product-notes">
                        {{ canned_food.note }}
                    </div>
                    <div id="ingredients-list">
                        <p>Ingredients</p>
                        <ul class="row ul-no-style">
                            {% for i in canned_food.get_ingredients %}
                                <li class="col-lg-3">{{i}}</li>
                            {% endfor %}
                        </ul>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-lg-4 right-part">
            <div class="price-related">
                <p>Prixe : {{ canned_food.price }} €</p>
                <select class="form-control select-format">
                    <option data-target-qty-id="{{stock.0.id}}" value="{{stock.0.weight}}" selected>{{stock.0.weight}} grammes</option>
                    {% for s in stock|slice:"1:" %}
                        <option data-target-qty-id="{{s.id}}" value="{{s.weight}}">{{s.weight}} grammes</option>
                    {% endfor %}
                </select>
                <p>Ajouter au panier de yoplait</p>
                <span data-qty-id="{{stock.0.id}}" class="quantity-left">quantité restante ( {{stock.0.quantity}} )</span>
                {% for s in stock|slice:"1:" %}
                    <span data-qty-id="{{s.id}}" class="quantity-left" style="display:none;">quantité restante ( {{s.quantity}} )</span>
                {% endfor %}
            </div>
        </div>
    </div>
</div>
{% endblock content %}

{% block javascript %}
    <script src="{% static 'cart/js/cart.js' %}"></script>
{% endblock javascript %}
